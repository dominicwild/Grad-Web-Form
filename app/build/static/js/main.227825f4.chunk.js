(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/DXC_Technology_logo.eef67b5f.svg"},31:function(e,t,a){e.exports=a(60)},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},56:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),l=a.n(o),c=(a(36),a(9)),i=a.n(c),s=a(13),u=a(1),m=a(2),d=a(4),f=a(3),h=a(5),p=(a(38),a(39),a(40),a(14)),g=a(19),v=a(7),y=a.n(v),E=(a(56),a(29)),b=a.n(E),N=a(30),O=a.n(N),I=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).login=Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("username").value,n=document.getElementById("password").value,console.log({username:t,password:n}),e.next=5,a.props.login({username:t,password:n});case 5:r=e.sent,console.log("Success: ".concat(r)),r&&Object(p.b)("/form");case 8:case"end":return e.stop()}}),e)}))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"login"},r.a.createElement("div",null,r.a.createElement("h1",null,"DXC Beacon Login"),r.a.createElement("div",{className:"inputs"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",name:"username"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password"})),r.a.createElement("div",{className:"login-btn-container"},r.a.createElement("button",{className:"btn",onClick:this.login},"Log in")),r.a.createElement("div",{className:"footer"},r.a.createElement(b.a,{src:O.a}))))))}}]),t}(n.Component),S=(n.Component,a(59),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).getUserLocation=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=a.state.locations;console.log("Position is: ".concat(t.latitude,", ").concat(t.longitude," with accuracy: ").concat(t.accuracy)),n&&n.forEach((function(e){var n=a.distance(t,e);console.log("Distance to ".concat(e.name," is ").concat(n))}))})),setTimeout(a.getUserLocation,500)},a.distance=function(e,t){var a=e.latitude,n=t.latitude,r=e.longitude,o=t.longitude,l=(n-a)*Math.PI/180,c=(o-r)*Math.PI/180,i=Math.sin(l/2)*Math.sin(l/2)+Math.cos(a*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2),s=6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)));return s>1?Math.round(s)+"km":s<=1?Math.round(1e3*s)+"m":s},a.getGenders=function(){fetch("/api/genders").then((function(e){if(e.ok)return e.json();console.error("Failed to get genders ",e.statusText)})).then((function(e){var t=e.genders;a.setState({genders:t})}))},a.getStudyFields=function(){fetch("/api/studyFields").then((function(e){if(e.ok)return e.json();console.error("Failed to get genders ",e.statusText)})).then((function(e){var t=e.studyFields;a.setState({studyFields:t})}))},a.getStreams=function(){fetch("/api/streams").then((function(e){if(e.ok)return e.json();console.error("Failed to get genders ",e.statusText)})).then((function(e){var t=e.streams;a.setState({streams:t})}))},a.getLocations=function(){fetch("/api/locations").then((function(e){if(e.ok)return e.json();console.error("Failed to get genders ",e.statusText)})).then((function(e){var t=e.locations;a.setState({locations:t})}))},a.renderSelect=function(e,t,a,n){return r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:e},t,":"),r.a.createElement("select",{type:"text",id:e,name:e,disabled:void 0===n,defaultValue:3},n?n.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id+e.name},e.name)})):r.a.createElement("option",{key:"loading"},"Loading..."),r.a.createElement("option",{defaultValue:!0,key:"default"+t,value:"-1"}," ",a," ")))},a.submit=function(e){if(document.getElementById("form").checkValidity()){var t=document.getElementById("firstName").value,n=document.getElementById("lastName").value,r=document.getElementById("gender").value,o=document.getElementById("email").value,l=document.getElementById("mobile").value,c=document.getElementById("fieldOfStudy").value,i=document.getElementById("stream").value;fetch("/api/user",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:t,lastName:n,GenderId:r,email:o,mobile:l,StudyFieldId:c,StreamId:i})}).then((function(e){if(e.ok)return e.json();console.error("Failed to submit form. "+e.statusText),v.toastr.error("","Failed to submit form.")})).then((function(e){e.success&&(v.toastr.success("","Successfully submitted form with email: "+o),a.clear())}))}},a.clear=function(e){e.preventDefault(),document.getElementById("firstName").value="",document.getElementById("lastName").value="",document.getElementById("gender").value="-1",document.getElementById("email").value="",document.getElementById("mobile").value="",document.getElementById("fieldOfStudy").value="-1",document.getElementById("stream").value="-1",document.getElementById("privacyPolicy").checked=!1},a.state={},a.getGenders(),a.getLocations(),a.getStreams(),a.getStudyFields(),a.getUserLocation(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.genders,a=e.streams,n=e.studyFields;return r.a.createElement("div",{className:"form"},r.a.createElement("form",{className:"form-container",id:"form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"form-header"},r.a.createElement("h1",null,"DXC Beacon"),r.a.createElement("h2",null,"Please fill out the fields below:"),r.a.createElement("h3",null,"* required field")),r.a.createElement("div",{className:"form-fields"},r.a.createElement("div",{className:"field required"},r.a.createElement("label",{htmlFor:"firstName"},"First Name:"),r.a.createElement("input",{type:"text",id:"firstName",name:"firstName",required:!0})),r.a.createElement("div",{className:"field required"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name:"),r.a.createElement("input",{type:"text",id:"lastName",name:"lastName",required:!0})),this.renderSelect("gender","Gender","Select your gender",t),r.a.createElement("div",{className:"field required"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"email",id:"email",name:"email",required:!0})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"mobile"},"Mobile Number:"),r.a.createElement("input",{type:"text",id:"mobile",name:"mobile"})),this.renderSelect("fieldOfStudy","Field of Study","Select the field you study",n),this.renderSelect("stream","Preferred Role","Select the type of role you're interested in",a)),r.a.createElement("div",{className:"privacy-policy"},r.a.createElement("label",{htmlFor:"privacyPolicy"},r.a.createElement("span",null,r.a.createElement("input",{type:"checkbox",name:"privacyPolicy",id:"privacyPolicy",required:!0})),r.a.createElement("span",{className:"privacy-text"},"I agree to DXC's ",r.a.createElement("a",{href:"#privacyPolicy"},"Privacy Policy")))),r.a.createElement("div",{className:"btn-container"},r.a.createElement("button",{className:"btn",onClick:this.submit},"Submit"),r.a.createElement("button",{className:"btn clear-btn",onClick:this.clear},"Clear"))))}}]),t}(n.Component)),j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).login=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/api/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.ok?e.json():(console.error("Failed to login."),!1)})).then((function(e){return!!e&&(a.setState({credential:e.credential}),!0)})).catch((function(e){return console.error(e),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={credential:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(g.Provider,{store:this.props.store},r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(I,{path:"/",login:this.login}),r.a.createElement(S,{path:"/form"})),r.a.createElement(y.a,{timeOut:4e3,newestOnTop:!1,preventDuplicates:!0,position:"bottom-center",getState:function(e){return e.toastr},transitionIn:"fadeIn",transitionOut:"fadeOut",progressBar:!0,closeOnToastrClick:!0})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=a(11),w={toastr:v.reducer},F=Object(k.b)(w),B=Object(k.c)(F);l.a.render(r.a.createElement(j,{store:B}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.227825f4.chunk.js.map